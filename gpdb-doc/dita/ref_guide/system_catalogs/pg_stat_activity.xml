<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Composite//EN" "ditabase.dtd">
<topic id="topic1" xml:lang="en"><title id="hq141670">pg_stat_activity</title><body><p>The view <codeph>pg_stat_activity</codeph> shows one row per server
process and details about it associated user session and query. The columns
that report data on the current query are available unless the parameter
<codeph>stats_command_string</codeph> has been turned off. Furthermore,
these columns are only visible if the user examining the view is a superuser
or the same as the user owning the process being reported on.</p><p>The maximum length of the query text sting stored in the column <codeph>current_query</codeph>
can be controlled with the server configuration parameter <codeph>pgstat_track_activity_query_size</codeph>.
</p><table id="hq141982"><title>pg_catalog.pg_stat_activity</title><tgroup cols="4"><colspec colnum="1" colname="col1" colwidth="131pt"/><colspec colnum="2" colname="col2" colwidth="86pt"/><colspec colnum="3" colname="col3" colwidth="85pt"/><colspec colnum="4" colname="col4" colwidth="147pt"/><thead><row><entry colname="col1">column</entry><entry colname="col2">type</entry><entry colname="col3">references</entry><entry colname="col4">description</entry></row></thead><tbody><row><entry colname="col1"><codeph>datid</codeph></entry><entry colname="col2">oid</entry><entry colname="col3">pg_database.oid</entry><entry colname="col4">Database OID</entry></row><row><entry colname="col1"><codeph>datname</codeph></entry><entry colname="col2">name</entry><entry colname="col3"/><entry colname="col4">Database name</entry></row><row><entry colname="col1"><codeph>procpid</codeph></entry><entry colname="col2">integer</entry><entry colname="col3"/><entry colname="col4">Process ID of the server process</entry></row><row><entry colname="col1"><codeph>sess_id</codeph></entry><entry colname="col2">integer</entry><entry colname="col3"/><entry colname="col4">Session ID</entry></row><row><entry colname="col1"><codeph>usesysid</codeph></entry><entry colname="col2">oid</entry><entry colname="col3">pg_authid.oid</entry><entry colname="col4">Role OID</entry></row><row><entry colname="col1"><codeph>usename</codeph></entry><entry colname="col2">name</entry><entry colname="col3"/><entry colname="col4">Role name</entry></row><row><entry colname="col1"><codeph>current_query</codeph></entry><entry colname="col2">text</entry><entry colname="col3"/><entry colname="col4">Current query that process is running</entry></row><row><entry colname="col1"><codeph>waiting</codeph></entry><entry colname="col2">boolean</entry><entry colname="col3"/><entry colname="col4">True if waiting on a lock, false if not waiting</entry></row><row><entry colname="col1"><codeph>query_start</codeph></entry><entry colname="col2">timestampz</entry><entry colname="col3"/><entry colname="col4">Time query began execution</entry></row><row><entry colname="col1"><codeph>backend_start</codeph></entry><entry colname="col2">timestampz</entry><entry colname="col3"/><entry colname="col4">Time backend process was started</entry></row><row><entry colname="col1"><codeph>client_addr</codeph></entry><entry colname="col2">inet</entry><entry colname="col3"/><entry colname="col4">Client address</entry></row><row><entry colname="col1"><codeph>client_port</codeph></entry><entry colname="col2">integer</entry><entry colname="col3"/><entry colname="col4">Client port</entry></row><row><entry colname="col1"><codeph>application_name</codeph></entry><entry colname="col2">text</entry><entry colname="col3"/><entry colname="col4">Client application name</entry></row><row><entry colname="col1"><codeph>xact_start</codeph></entry><entry colname="col2">timestampz</entry><entry colname="col3"/><entry colname="col4">Transaction start time</entry></row><row><entry colname="col1"><codeph>waiting_reason</codeph></entry><entry colname="col2">text</entry><entry colname="col3"/><entry colname="col4">Reason the server process is waiting. The value
can be:<p>lock replication</p></entry></row></tbody></tgroup></table></body></topic>