<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Composite//EN" "ditabase.dtd">
<topic id="topic1">
  <title id="kx20941">gpmapreduce</title>
  <!-- This file is the target of a conref from client_tool_guides/client/unix/gpmapreduce.xml. -->
  <body>
    <p>Runs Greenplum MapReduce jobs as defined in a YAML specification document.</p>
    <section id="section2">
      <title>Synopsis</title>
      <codeblock><b>gpmapreduce</b> <b>-f</b> <varname>yaml_file</varname> [<varname>dbname</varname> [<varname>username</varname>]] 
     [<b>-k</b> <varname>name=value</varname> | <b>--key</b> <varname>name=value</varname>] 
     [<b>-h</b> <varname>hostname</varname> | <b>--host</b> <varname>hostname</varname>] [<b>-p</b> <varname>port</varname>| <b>--port</b> <varname>port</varname>] 
     [<b>-U</b> <varname>username</varname> | <b>--username</b> <varname>username</varname>] [<b>-W</b>] [<b>-v</b>]

<b>gpmapreduce</b> <b>-x</b> | <b>--explain</b> 

<b>gpmapreduce</b> <b>-X</b> | <b>--explain-analyze</b>

<b>gpmapreduce</b> <b>-V</b> | <b>--version</b> 

<b>gpmapreduce</b> <b>-h</b> | <b>--help</b> </codeblock>
    </section>
    <section id="section3">
      <title>Prerequisites</title>
      <p>The following are required prior to running this program:</p>
      <ul id="ul_v5h_bxq_dp">
        <li id="kx142094">You must have your MapReduce job defined in a YAML file. For information
          about the Greenplum MapReduce specification, see the <i>Greenplum Database Reference
            Guide</i>.</li>
        <li id="kx141300">You must be a Greenplum Database superuser to run MapReduce jobs written
          in untrusted Perl or Python.</li>
        <li id="kx141310">You must be a Greenplum Database superuser to run MapReduce jobs with
            <codeph>EXEC</codeph> and <codeph>FILE</codeph> inputs.</li>
        <li id="kx141334">You must be a Greenplum Database superuser to run MapReduce jobs with
            <codeph>GPFDIST</codeph> input unless the server configuration parameter
            <codeph>gp_external_grant_privileges</codeph> is set to <codeph>on</codeph>. See the
            <i>Greenplum Database Reference Guide</i> for more information.</li>
      </ul>
    </section>
    <section id="section4">
      <title>Description</title>
      <p><xref href="http://en.wikipedia.org/wiki/MapReduce" scope="external" format="html"
          >MapReduce</xref> is a programming model developed by Google for processing and generating
        large data sets on an array of commodity servers. Greenplum MapReduce allows programmers who
        are familiar with the MapReduce paradigm to write map and reduce functions and submit them
        to the Greenplum Database parallel engine for processing.</p>
      <p>In order for Greenplum to be able to process MapReduce functions, the functions need to be
        defined in a YAML document, which is then passed to the Greenplum MapReduce program,
          <codeph>gpmapreduce</codeph>, for execution by the Greenplum Database parallel engine. The
        Greenplum system takes care of the details of distributing the input data, executing the
        program across a set of machines, handling machine failures, and managing the required
        inter-machine communication.</p>
    </section>
    <section id="section5">
      <title>Options</title>
      <parml>
        <plentry>
          <pt>-f <varname>yaml_file</varname></pt>
          <pd>Required. The YAML file that contains the Greenplum MapReduce job definitions. See the
              <i>Greenplum Database Reference Guide</i>.</pd>
        </plentry>
        <plentry>
          <pt>-? | --help</pt>
          <pd>Show help, then exit.</pd>
        </plentry>
        <plentry>
          <pt>-V | --version</pt>
          <pd>Show version information, then exit.</pd>
        </plentry>
        <plentry>
          <pt>-v | --verbose</pt>
          <pd>Show verbose output.</pd>
        </plentry>
        <plentry>
          <pt>-x | --explain</pt>
          <pd>Do not run MapReduce jobs, but produce explain plans.</pd>
        </plentry>
        <plentry>
          <pt>-X | --explain-analyze</pt>
          <pd>Run MapReduce jobs and produce explain-analyze plans.</pd>
        </plentry>
        <plentry>
          <pt>-k | --keyname=<varname>value</varname></pt>
          <pd>Sets a YAML variable. A value is required. Defaults to "key" if no variable name is
            specified. </pd>
        </plentry>
      </parml>
      <sectiondiv id="section6">
        <b>Connection Options</b>
        <parml>
          <plentry>
            <pt>-h <varname>host</varname> | --host <varname>host</varname></pt>
            <pd>Specifies the host name of the machine on which the Greenplum master database server
              is running. If not specified, reads from the environment variable
                <codeph>PGHOST</codeph> or defaults to localhost.</pd>
          </plentry>
          <plentry>
            <pt>-p <varname>port</varname> | --port port</pt>
            <pd>Specifies the TCP port on which the Greenplum master database server is listening
              for connections. If not specified, reads from the environment variable
                <codeph>PGPORT</codeph> or defaults to 5432.</pd>
          </plentry>
          <plentry>
            <pt>-U <varname>username</varname> | --username <varname>username</varname></pt>
            <pd>The database role name to connect as. If not specified, reads from the environment
              variable <codeph>PGUSER</codeph> or defaults to the current system user name.</pd>
          </plentry>
          <plentry>
            <pt>-W | --password</pt>
            <pd>Force a password prompt.</pd>
          </plentry>
        </parml>
      </sectiondiv>
    </section>
    <section id="section7">
      <title>Examples</title>
      <p>Run a MapReduce job as defined in <codeph>my_yaml.txt</codeph> and connect to the database
          <codeph>mydatabase</codeph>:</p>
      <codeblock>gpmapreduce -f my_yaml.txt mydatabase</codeblock>
    </section>
    <section id="section8">
      <title>See Also</title>
      <p>Greenplum MapReduce specification in the <i>Greenplum Database Reference Guide</i></p>
    </section>
  </body>
</topic>
