Drop table if exists subtx2_commit_t1;
DROP TABLE
Drop table if exists subtx2_commit_t2;
DROP TABLE
Create table subtx2_commit_t1(a1 int,a2 text) distributed randomly;
CREATE TABLE
Create table subtx2_commit_t2(b1 int,b2 text) distributed randomly;
CREATE TABLE
Insert into subtx2_commit_t2 values(generate_series(1,50),'OLD VALUE');
INSERT 0 50
begin;
BEGIN
savepoint sp1;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
    10
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp1;
RELEASE
savepoint sp2;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 10
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp2;
ROLLBACK
savepoint sp2;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
    20
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp2;
RELEASE
savepoint sp3;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 20
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp3;
ROLLBACK
savepoint sp3;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
    30
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp3;
RELEASE
savepoint sp4;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 30
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp4;
ROLLBACK
savepoint sp4;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
    40
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp4;
RELEASE
savepoint sp5;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 40
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp5;
ROLLBACK
savepoint sp5;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
    50
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp5;
RELEASE
savepoint sp6;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 50
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp6;
ROLLBACK
savepoint sp6;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
    60
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp6;
RELEASE
savepoint sp7;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 60
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp7;
ROLLBACK
savepoint sp7;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
    70
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp7;
RELEASE
savepoint sp8;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 70
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp8;
ROLLBACK
savepoint sp8;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
    80
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp8;
RELEASE
savepoint sp9;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 80
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp9;
ROLLBACK
savepoint sp9;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
    90
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp9;
RELEASE
savepoint sp10;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 90
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp10;
ROLLBACK
savepoint sp10;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   100
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp10;
RELEASE
savepoint sp11;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 100
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp11;
ROLLBACK
savepoint sp11;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   110
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp11;
RELEASE
savepoint sp12;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 110
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp12;
ROLLBACK
savepoint sp12;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   120
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp12;
RELEASE
savepoint sp13;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 120
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp13;
ROLLBACK
savepoint sp13;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   130
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp13;
RELEASE
savepoint sp14;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 130
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp14;
ROLLBACK
savepoint sp14;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   140
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp14;
RELEASE
savepoint sp15;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 140
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp15;
ROLLBACK
savepoint sp15;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   150
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp15;
RELEASE
savepoint sp16;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 150
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp16;
ROLLBACK
savepoint sp16;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   160
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp16;
RELEASE
savepoint sp17;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 160
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp17;
ROLLBACK
savepoint sp17;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   170
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp17;
RELEASE
savepoint sp18;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 170
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp18;
ROLLBACK
savepoint sp18;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   180
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp18;
RELEASE
savepoint sp19;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 180
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp19;
ROLLBACK
savepoint sp19;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   190
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp19;
RELEASE
savepoint sp20;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 190
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp20;
ROLLBACK
savepoint sp20;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   200
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp20;
RELEASE
savepoint sp21;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 200
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp21;
ROLLBACK
savepoint sp21;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   210
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp21;
RELEASE
savepoint sp22;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 210
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp22;
ROLLBACK
savepoint sp22;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   220
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp22;
RELEASE
savepoint sp23;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 220
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp23;
ROLLBACK
savepoint sp23;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   230
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp23;
RELEASE
savepoint sp24;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 230
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp24;
ROLLBACK
savepoint sp24;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   240
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp24;
RELEASE
savepoint sp25;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 240
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp25;
ROLLBACK
savepoint sp25;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   250
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp25;
RELEASE
savepoint sp26;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 250
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp26;
ROLLBACK
savepoint sp26;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   260
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp26;
RELEASE
savepoint sp27;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 260
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp27;
ROLLBACK
savepoint sp27;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   270
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp27;
RELEASE
savepoint sp28;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 270
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp28;
ROLLBACK
savepoint sp28;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   280
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp28;
RELEASE
savepoint sp29;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 280
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp29;
ROLLBACK
savepoint sp29;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   290
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp29;
RELEASE
savepoint sp30;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 290
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp30;
ROLLBACK
savepoint sp30;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   300
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp30;
RELEASE
savepoint sp31;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 300
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp31;
ROLLBACK
savepoint sp31;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   310
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp31;
RELEASE
savepoint sp32;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 310
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp32;
ROLLBACK
savepoint sp32;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   320
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp32;
RELEASE
savepoint sp33;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 320
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp33;
ROLLBACK
savepoint sp33;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   330
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp33;
RELEASE
savepoint sp34;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 330
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp34;
ROLLBACK
savepoint sp34;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   340
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp34;
RELEASE
savepoint sp35;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 340
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp35;
ROLLBACK
savepoint sp35;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   350
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp35;
RELEASE
savepoint sp36;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 350
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp36;
ROLLBACK
savepoint sp36;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   360
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp36;
RELEASE
savepoint sp37;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 360
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp37;
ROLLBACK
savepoint sp37;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   370
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp37;
RELEASE
savepoint sp38;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 370
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp38;
ROLLBACK
savepoint sp38;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   380
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp38;
RELEASE
savepoint sp39;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 380
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp39;
ROLLBACK
savepoint sp39;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   390
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp39;
RELEASE
savepoint sp40;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 390
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp40;
ROLLBACK
savepoint sp40;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   400
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp40;
RELEASE
savepoint sp41;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 400
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp41;
ROLLBACK
savepoint sp41;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   410
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp41;
RELEASE
savepoint sp42;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 410
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp42;
ROLLBACK
savepoint sp42;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   420
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp42;
RELEASE
savepoint sp43;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 420
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp43;
ROLLBACK
savepoint sp43;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   430
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp43;
RELEASE
savepoint sp44;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 430
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp44;
ROLLBACK
savepoint sp44;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   440
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp44;
RELEASE
savepoint sp45;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 440
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp45;
ROLLBACK
savepoint sp45;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   450
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp45;
RELEASE
savepoint sp46;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 450
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp46;
ROLLBACK
savepoint sp46;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   460
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp46;
RELEASE
savepoint sp47;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 460
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp47;
ROLLBACK
savepoint sp47;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   470
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp47;
RELEASE
savepoint sp48;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 470
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp48;
ROLLBACK
savepoint sp48;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   480
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp48;
RELEASE
savepoint sp49;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 480
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp49;
ROLLBACK
savepoint sp49;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   490
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp49;
RELEASE
savepoint sp50;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 490
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp50;
ROLLBACK
savepoint sp50;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   500
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp50;
RELEASE
savepoint sp51;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 500
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp51;
ROLLBACK
savepoint sp51;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   510
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp51;
RELEASE
savepoint sp52;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 510
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp52;
ROLLBACK
savepoint sp52;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   520
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp52;
RELEASE
savepoint sp53;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 520
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp53;
ROLLBACK
savepoint sp53;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   530
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp53;
RELEASE
savepoint sp54;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 530
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp54;
ROLLBACK
savepoint sp54;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   540
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp54;
RELEASE
savepoint sp55;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 540
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp55;
ROLLBACK
savepoint sp55;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   550
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp55;
RELEASE
savepoint sp56;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 550
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp56;
ROLLBACK
savepoint sp56;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   560
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp56;
RELEASE
savepoint sp57;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 560
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp57;
ROLLBACK
savepoint sp57;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   570
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp57;
RELEASE
savepoint sp58;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 570
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp58;
ROLLBACK
savepoint sp58;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   580
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp58;
RELEASE
savepoint sp59;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 580
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp59;
ROLLBACK
savepoint sp59;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   590
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp59;
RELEASE
savepoint sp60;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 590
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp60;
ROLLBACK
savepoint sp60;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   600
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp60;
RELEASE
savepoint sp61;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 600
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp61;
ROLLBACK
savepoint sp61;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   610
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp61;
RELEASE
savepoint sp62;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 610
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp62;
ROLLBACK
savepoint sp62;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   620
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp62;
RELEASE
savepoint sp63;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 620
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp63;
ROLLBACK
savepoint sp63;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   630
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp63;
RELEASE
savepoint sp64;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 630
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp64;
ROLLBACK
savepoint sp64;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   640
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp64;
RELEASE
savepoint sp65;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 640
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp65;
ROLLBACK
savepoint sp65;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   650
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp65;
RELEASE
savepoint sp66;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 650
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp66;
ROLLBACK
savepoint sp66;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   660
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp66;
RELEASE
savepoint sp67;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 660
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp67;
ROLLBACK
savepoint sp67;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   670
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp67;
RELEASE
savepoint sp68;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 670
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp68;
ROLLBACK
savepoint sp68;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   680
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp68;
RELEASE
savepoint sp69;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 680
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp69;
ROLLBACK
savepoint sp69;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   690
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp69;
RELEASE
savepoint sp70;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 690
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp70;
ROLLBACK
savepoint sp70;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   700
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp70;
RELEASE
savepoint sp71;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 700
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp71;
ROLLBACK
savepoint sp71;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   710
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp71;
RELEASE
savepoint sp72;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 710
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp72;
ROLLBACK
savepoint sp72;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   720
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp72;
RELEASE
savepoint sp73;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 720
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp73;
ROLLBACK
savepoint sp73;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   730
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp73;
RELEASE
savepoint sp74;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 730
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp74;
ROLLBACK
savepoint sp74;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   740
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp74;
RELEASE
savepoint sp75;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 740
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp75;
ROLLBACK
savepoint sp75;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   750
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp75;
RELEASE
savepoint sp76;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 750
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp76;
ROLLBACK
savepoint sp76;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   760
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp76;
RELEASE
savepoint sp77;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 760
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp77;
ROLLBACK
savepoint sp77;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   770
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp77;
RELEASE
savepoint sp78;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 770
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp78;
ROLLBACK
savepoint sp78;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   780
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp78;
RELEASE
savepoint sp79;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 780
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp79;
ROLLBACK
savepoint sp79;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   790
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp79;
RELEASE
savepoint sp80;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 790
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp80;
ROLLBACK
savepoint sp80;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   800
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp80;
RELEASE
savepoint sp81;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 800
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp81;
ROLLBACK
savepoint sp81;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   810
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp81;
RELEASE
savepoint sp82;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 810
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp82;
ROLLBACK
savepoint sp82;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   820
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp82;
RELEASE
savepoint sp83;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 820
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp83;
ROLLBACK
savepoint sp83;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   830
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp83;
RELEASE
savepoint sp84;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 830
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp84;
ROLLBACK
savepoint sp84;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   840
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp84;
RELEASE
savepoint sp85;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 840
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp85;
ROLLBACK
savepoint sp85;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   850
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp85;
RELEASE
savepoint sp86;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 850
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp86;
ROLLBACK
savepoint sp86;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   860
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp86;
RELEASE
savepoint sp87;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 860
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp87;
ROLLBACK
savepoint sp87;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   870
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp87;
RELEASE
savepoint sp88;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 870
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp88;
ROLLBACK
savepoint sp88;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   880
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp88;
RELEASE
savepoint sp89;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 880
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp89;
ROLLBACK
savepoint sp89;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   890
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp89;
RELEASE
savepoint sp90;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 890
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp90;
ROLLBACK
savepoint sp90;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   900
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp90;
RELEASE
savepoint sp91;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 900
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp91;
ROLLBACK
savepoint sp91;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   910
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp91;
RELEASE
savepoint sp92;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 910
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp92;
ROLLBACK
savepoint sp92;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   920
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp92;
RELEASE
savepoint sp93;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 920
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp93;
ROLLBACK
savepoint sp93;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   930
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp93;
RELEASE
savepoint sp94;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 930
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp94;
ROLLBACK
savepoint sp94;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   940
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp94;
RELEASE
savepoint sp95;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 940
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp95;
ROLLBACK
savepoint sp95;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   950
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp95;
RELEASE
savepoint sp96;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 950
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp96;
ROLLBACK
savepoint sp96;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   960
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp96;
RELEASE
savepoint sp97;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 960
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp97;
ROLLBACK
savepoint sp97;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   970
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp97;
RELEASE
savepoint sp98;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 970
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp98;
ROLLBACK
savepoint sp98;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   980
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp98;
RELEASE
savepoint sp99;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 980
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp99;
ROLLBACK
savepoint sp99;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
   990
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp99;
RELEASE
savepoint sp100;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 990
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp100;
ROLLBACK
savepoint sp100;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1000
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp100;
RELEASE
savepoint sp101;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1000
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp101;
ROLLBACK
savepoint sp101;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1010
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp101;
RELEASE
savepoint sp102;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1010
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp102;
ROLLBACK
savepoint sp102;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1020
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp102;
RELEASE
savepoint sp103;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1020
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp103;
ROLLBACK
savepoint sp103;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1030
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp103;
RELEASE
savepoint sp104;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1030
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp104;
ROLLBACK
savepoint sp104;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1040
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp104;
RELEASE
savepoint sp105;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1040
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp105;
ROLLBACK
savepoint sp105;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1050
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp105;
RELEASE
savepoint sp106;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1050
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp106;
ROLLBACK
savepoint sp106;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1060
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp106;
RELEASE
savepoint sp107;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1060
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp107;
ROLLBACK
savepoint sp107;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1070
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp107;
RELEASE
savepoint sp108;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1070
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp108;
ROLLBACK
savepoint sp108;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1080
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp108;
RELEASE
savepoint sp109;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1080
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp109;
ROLLBACK
savepoint sp109;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1090
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp109;
RELEASE
savepoint sp110;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1090
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp110;
ROLLBACK
savepoint sp110;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1100
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp110;
RELEASE
savepoint sp111;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1100
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp111;
ROLLBACK
savepoint sp111;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1110
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp111;
RELEASE
savepoint sp112;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1110
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp112;
ROLLBACK
savepoint sp112;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1120
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp112;
RELEASE
savepoint sp113;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1120
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp113;
ROLLBACK
savepoint sp113;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1130
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp113;
RELEASE
savepoint sp114;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1130
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp114;
ROLLBACK
savepoint sp114;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1140
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp114;
RELEASE
savepoint sp115;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1140
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp115;
ROLLBACK
savepoint sp115;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1150
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp115;
RELEASE
savepoint sp116;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1150
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp116;
ROLLBACK
savepoint sp116;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1160
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp116;
RELEASE
savepoint sp117;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1160
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp117;
ROLLBACK
savepoint sp117;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1170
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp117;
RELEASE
savepoint sp118;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1170
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp118;
ROLLBACK
savepoint sp118;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1180
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp118;
RELEASE
savepoint sp119;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1180
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp119;
ROLLBACK
savepoint sp119;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1190
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp119;
RELEASE
savepoint sp120;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1190
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp120;
ROLLBACK
savepoint sp120;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1200
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp120;
RELEASE
savepoint sp121;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1200
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp121;
ROLLBACK
savepoint sp121;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1210
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp121;
RELEASE
savepoint sp122;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1210
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp122;
ROLLBACK
savepoint sp122;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1220
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp122;
RELEASE
savepoint sp123;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1220
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp123;
ROLLBACK
savepoint sp123;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1230
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp123;
RELEASE
savepoint sp124;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1230
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp124;
ROLLBACK
savepoint sp124;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1240
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp124;
RELEASE
savepoint sp125;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1240
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp125;
ROLLBACK
savepoint sp125;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1250
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp125;
RELEASE
savepoint sp126;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1250
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp126;
ROLLBACK
savepoint sp126;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1260
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp126;
RELEASE
savepoint sp127;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1260
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp127;
ROLLBACK
savepoint sp127;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1270
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp127;
RELEASE
savepoint sp128;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1270
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp128;
ROLLBACK
savepoint sp128;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1280
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp128;
RELEASE
savepoint sp129;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1280
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp129;
ROLLBACK
savepoint sp129;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1290
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp129;
RELEASE
savepoint sp130;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1290
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp130;
ROLLBACK
savepoint sp130;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1300
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp130;
RELEASE
savepoint sp131;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1300
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp131;
ROLLBACK
savepoint sp131;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1310
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp131;
RELEASE
savepoint sp132;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1310
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp132;
ROLLBACK
savepoint sp132;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1320
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp132;
RELEASE
savepoint sp133;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1320
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp133;
ROLLBACK
savepoint sp133;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1330
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp133;
RELEASE
savepoint sp134;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1330
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp134;
ROLLBACK
savepoint sp134;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1340
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp134;
RELEASE
savepoint sp135;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1340
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp135;
ROLLBACK
savepoint sp135;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1350
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp135;
RELEASE
savepoint sp136;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1350
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp136;
ROLLBACK
savepoint sp136;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1360
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp136;
RELEASE
savepoint sp137;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1360
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp137;
ROLLBACK
savepoint sp137;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1370
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp137;
RELEASE
savepoint sp138;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1370
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp138;
ROLLBACK
savepoint sp138;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1380
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp138;
RELEASE
savepoint sp139;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1380
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp139;
ROLLBACK
savepoint sp139;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1390
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp139;
RELEASE
savepoint sp140;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1390
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp140;
ROLLBACK
savepoint sp140;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1400
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp140;
RELEASE
savepoint sp141;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1400
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp141;
ROLLBACK
savepoint sp141;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1410
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp141;
RELEASE
savepoint sp142;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1410
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp142;
ROLLBACK
savepoint sp142;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1420
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp142;
RELEASE
savepoint sp143;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1420
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp143;
ROLLBACK
savepoint sp143;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1430
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp143;
RELEASE
savepoint sp144;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1430
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp144;
ROLLBACK
savepoint sp144;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1440
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp144;
RELEASE
savepoint sp145;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1440
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp145;
ROLLBACK
savepoint sp145;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1450
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp145;
RELEASE
savepoint sp146;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1450
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp146;
ROLLBACK
savepoint sp146;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1460
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp146;
RELEASE
savepoint sp147;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1460
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp147;
ROLLBACK
savepoint sp147;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1470
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp147;
RELEASE
savepoint sp148;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1470
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp148;
ROLLBACK
savepoint sp148;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1480
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp148;
RELEASE
savepoint sp149;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1480
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp149;
ROLLBACK
savepoint sp149;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1490
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp149;
RELEASE
savepoint sp150;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1490
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp150;
ROLLBACK
savepoint sp150;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1500
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp150;
RELEASE
savepoint sp151;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1500
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp151;
ROLLBACK
savepoint sp151;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1510
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp151;
RELEASE
savepoint sp152;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1510
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp152;
ROLLBACK
savepoint sp152;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1520
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp152;
RELEASE
savepoint sp153;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1520
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp153;
ROLLBACK
savepoint sp153;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1530
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp153;
RELEASE
savepoint sp154;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1530
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp154;
ROLLBACK
savepoint sp154;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1540
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp154;
RELEASE
savepoint sp155;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1540
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp155;
ROLLBACK
savepoint sp155;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1550
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp155;
RELEASE
savepoint sp156;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1550
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp156;
ROLLBACK
savepoint sp156;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1560
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp156;
RELEASE
savepoint sp157;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1560
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp157;
ROLLBACK
savepoint sp157;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1570
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp157;
RELEASE
savepoint sp158;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1570
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp158;
ROLLBACK
savepoint sp158;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1580
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp158;
RELEASE
savepoint sp159;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1580
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp159;
ROLLBACK
savepoint sp159;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1590
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp159;
RELEASE
savepoint sp160;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1590
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp160;
ROLLBACK
savepoint sp160;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1600
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp160;
RELEASE
savepoint sp161;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1600
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp161;
ROLLBACK
savepoint sp161;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1610
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp161;
RELEASE
savepoint sp162;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1610
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp162;
ROLLBACK
savepoint sp162;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1620
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp162;
RELEASE
savepoint sp163;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1620
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp163;
ROLLBACK
savepoint sp163;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1630
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp163;
RELEASE
savepoint sp164;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1630
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp164;
ROLLBACK
savepoint sp164;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1640
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp164;
RELEASE
savepoint sp165;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1640
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp165;
ROLLBACK
savepoint sp165;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1650
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp165;
RELEASE
savepoint sp166;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1650
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp166;
ROLLBACK
savepoint sp166;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1660
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp166;
RELEASE
savepoint sp167;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1660
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp167;
ROLLBACK
savepoint sp167;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1670
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp167;
RELEASE
savepoint sp168;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1670
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp168;
ROLLBACK
savepoint sp168;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1680
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp168;
RELEASE
savepoint sp169;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1680
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp169;
ROLLBACK
savepoint sp169;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1690
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp169;
RELEASE
savepoint sp170;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1690
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp170;
ROLLBACK
savepoint sp170;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1700
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp170;
RELEASE
savepoint sp171;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1700
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp171;
ROLLBACK
savepoint sp171;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1710
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp171;
RELEASE
savepoint sp172;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1710
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp172;
ROLLBACK
savepoint sp172;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1720
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp172;
RELEASE
savepoint sp173;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1720
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp173;
ROLLBACK
savepoint sp173;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1730
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp173;
RELEASE
savepoint sp174;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1730
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp174;
ROLLBACK
savepoint sp174;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1740
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp174;
RELEASE
savepoint sp175;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1740
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp175;
ROLLBACK
savepoint sp175;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1750
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp175;
RELEASE
savepoint sp176;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1750
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp176;
ROLLBACK
savepoint sp176;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1760
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp176;
RELEASE
savepoint sp177;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1760
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp177;
ROLLBACK
savepoint sp177;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1770
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp177;
RELEASE
savepoint sp178;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1770
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp178;
ROLLBACK
savepoint sp178;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1780
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp178;
RELEASE
savepoint sp179;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1780
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp179;
ROLLBACK
savepoint sp179;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1790
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp179;
RELEASE
savepoint sp180;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1790
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp180;
ROLLBACK
savepoint sp180;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1800
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp180;
RELEASE
savepoint sp181;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1800
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp181;
ROLLBACK
savepoint sp181;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1810
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp181;
RELEASE
savepoint sp182;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1810
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp182;
ROLLBACK
savepoint sp182;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1820
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp182;
RELEASE
savepoint sp183;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1820
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp183;
ROLLBACK
savepoint sp183;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1830
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp183;
RELEASE
savepoint sp184;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1830
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp184;
ROLLBACK
savepoint sp184;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1840
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp184;
RELEASE
savepoint sp185;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1840
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp185;
ROLLBACK
savepoint sp185;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1850
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp185;
RELEASE
savepoint sp186;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1850
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp186;
ROLLBACK
savepoint sp186;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1860
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp186;
RELEASE
savepoint sp187;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1860
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp187;
ROLLBACK
savepoint sp187;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1870
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp187;
RELEASE
savepoint sp188;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1870
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp188;
ROLLBACK
savepoint sp188;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1880
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp188;
RELEASE
savepoint sp189;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1880
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp189;
ROLLBACK
savepoint sp189;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1890
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp189;
RELEASE
savepoint sp190;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1890
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp190;
ROLLBACK
savepoint sp190;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1900
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp190;
RELEASE
savepoint sp191;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1900
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp191;
ROLLBACK
savepoint sp191;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1910
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp191;
RELEASE
savepoint sp192;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1910
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp192;
ROLLBACK
savepoint sp192;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1920
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp192;
RELEASE
savepoint sp193;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1920
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp193;
ROLLBACK
savepoint sp193;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1930
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp193;
RELEASE
savepoint sp194;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1930
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp194;
ROLLBACK
savepoint sp194;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1940
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp194;
RELEASE
savepoint sp195;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1940
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp195;
ROLLBACK
savepoint sp195;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1950
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp195;
RELEASE
savepoint sp196;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1950
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp196;
ROLLBACK
savepoint sp196;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1960
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp196;
RELEASE
savepoint sp197;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1960
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp197;
ROLLBACK
savepoint sp197;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1970
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp197;
RELEASE
savepoint sp198;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1970
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp198;
ROLLBACK
savepoint sp198;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1980
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp198;
RELEASE
savepoint sp199;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1980
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp199;
ROLLBACK
savepoint sp199;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  1990
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp199;
RELEASE
savepoint sp200;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 1990
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp200;
ROLLBACK
savepoint sp200;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  2000
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp200;
RELEASE
savepoint sp201;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 2000
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp201;
ROLLBACK
savepoint sp201;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  2010
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp201;
RELEASE
savepoint sp202;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 2010
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp202;
ROLLBACK
savepoint sp202;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  2020
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp202;
RELEASE
savepoint sp203;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 2020
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp203;
ROLLBACK
savepoint sp203;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  2030
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp203;
RELEASE
savepoint sp204;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 2030
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp204;
ROLLBACK
savepoint sp204;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  2040
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp204;
RELEASE
savepoint sp205;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 2040
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp205;
ROLLBACK
savepoint sp205;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  2050
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp205;
RELEASE
savepoint sp206;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 2050
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp206;
ROLLBACK
savepoint sp206;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  2060
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp206;
RELEASE
savepoint sp207;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 2060
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp207;
ROLLBACK
savepoint sp207;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  2070
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp207;
RELEASE
savepoint sp208;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 2070
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp208;
ROLLBACK
savepoint sp208;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  2080
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp208;
RELEASE
savepoint sp209;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 2080
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp209;
ROLLBACK
savepoint sp209;
SAVEPOINT
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
INSERT 0 10
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
UPDATE 1
Select count(*) from subtx2_commit_t1;
 count 
-------
  2090
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
    50
(1 row)

release sp209;
RELEASE
savepoint sp210;
SAVEPOINT
Select b2 from subtx2_commit_t2 where b1=1;
    b2     
-----------
 NEW VALUE
(1 row)

Delete from subtx2_commit_t1 where a1 > 0;
DELETE 2090
Delete from subtx2_commit_t2 where b1 > 0;
DELETE 50
Select count(*) from subtx2_commit_t1;
 count 
-------
     0
(1 row)

Select count(*) from subtx2_commit_t2;
 count 
-------
     0
(1 row)

rollback to sp210;
ROLLBACK
COMMIT;
COMMIT
