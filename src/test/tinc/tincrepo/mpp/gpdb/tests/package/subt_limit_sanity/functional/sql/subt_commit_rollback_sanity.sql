Drop table if exists subtx2_commit_t1;
Drop table if exists subtx2_commit_t2;
Create table subtx2_commit_t1(a1 int,a2 text) distributed randomly;
Create table subtx2_commit_t2(b1 int,b2 text) distributed randomly;
Insert into subtx2_commit_t2 values(generate_series(1,50),'OLD VALUE');
begin;
savepoint sp1;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp1;
savepoint sp2;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp2;
savepoint sp2;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp2;
savepoint sp3;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp3;
savepoint sp3;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp3;
savepoint sp4;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp4;
savepoint sp4;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp4;
savepoint sp5;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp5;
savepoint sp5;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp5;
savepoint sp6;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp6;
savepoint sp6;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp6;
savepoint sp7;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp7;
savepoint sp7;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp7;
savepoint sp8;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp8;
savepoint sp8;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp8;
savepoint sp9;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp9;
savepoint sp9;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp9;
savepoint sp10;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp10;
savepoint sp10;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp10;
savepoint sp11;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp11;
savepoint sp11;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp11;
savepoint sp12;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp12;
savepoint sp12;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp12;
savepoint sp13;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp13;
savepoint sp13;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp13;
savepoint sp14;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp14;
savepoint sp14;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp14;
savepoint sp15;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp15;
savepoint sp15;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp15;
savepoint sp16;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp16;
savepoint sp16;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp16;
savepoint sp17;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp17;
savepoint sp17;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp17;
savepoint sp18;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp18;
savepoint sp18;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp18;
savepoint sp19;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp19;
savepoint sp19;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp19;
savepoint sp20;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp20;
savepoint sp20;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp20;
savepoint sp21;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp21;
savepoint sp21;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp21;
savepoint sp22;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp22;
savepoint sp22;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp22;
savepoint sp23;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp23;
savepoint sp23;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp23;
savepoint sp24;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp24;
savepoint sp24;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp24;
savepoint sp25;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp25;
savepoint sp25;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp25;
savepoint sp26;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp26;
savepoint sp26;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp26;
savepoint sp27;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp27;
savepoint sp27;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp27;
savepoint sp28;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp28;
savepoint sp28;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp28;
savepoint sp29;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp29;
savepoint sp29;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp29;
savepoint sp30;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp30;
savepoint sp30;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp30;
savepoint sp31;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp31;
savepoint sp31;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp31;
savepoint sp32;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp32;
savepoint sp32;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp32;
savepoint sp33;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp33;
savepoint sp33;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp33;
savepoint sp34;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp34;
savepoint sp34;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp34;
savepoint sp35;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp35;
savepoint sp35;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp35;
savepoint sp36;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp36;
savepoint sp36;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp36;
savepoint sp37;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp37;
savepoint sp37;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp37;
savepoint sp38;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp38;
savepoint sp38;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp38;
savepoint sp39;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp39;
savepoint sp39;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp39;
savepoint sp40;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp40;
savepoint sp40;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp40;
savepoint sp41;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp41;
savepoint sp41;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp41;
savepoint sp42;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp42;
savepoint sp42;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp42;
savepoint sp43;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp43;
savepoint sp43;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp43;
savepoint sp44;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp44;
savepoint sp44;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp44;
savepoint sp45;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp45;
savepoint sp45;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp45;
savepoint sp46;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp46;
savepoint sp46;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp46;
savepoint sp47;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp47;
savepoint sp47;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp47;
savepoint sp48;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp48;
savepoint sp48;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp48;
savepoint sp49;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp49;
savepoint sp49;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp49;
savepoint sp50;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp50;
savepoint sp50;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp50;
savepoint sp51;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp51;
savepoint sp51;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp51;
savepoint sp52;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp52;
savepoint sp52;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp52;
savepoint sp53;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp53;
savepoint sp53;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp53;
savepoint sp54;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp54;
savepoint sp54;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp54;
savepoint sp55;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp55;
savepoint sp55;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp55;
savepoint sp56;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp56;
savepoint sp56;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp56;
savepoint sp57;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp57;
savepoint sp57;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp57;
savepoint sp58;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp58;
savepoint sp58;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp58;
savepoint sp59;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp59;
savepoint sp59;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp59;
savepoint sp60;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp60;
savepoint sp60;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp60;
savepoint sp61;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp61;
savepoint sp61;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp61;
savepoint sp62;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp62;
savepoint sp62;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp62;
savepoint sp63;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp63;
savepoint sp63;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp63;
savepoint sp64;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp64;
savepoint sp64;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp64;
savepoint sp65;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp65;
savepoint sp65;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp65;
savepoint sp66;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp66;
savepoint sp66;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp66;
savepoint sp67;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp67;
savepoint sp67;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp67;
savepoint sp68;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp68;
savepoint sp68;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp68;
savepoint sp69;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp69;
savepoint sp69;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp69;
savepoint sp70;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp70;
savepoint sp70;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp70;
savepoint sp71;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp71;
savepoint sp71;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp71;
savepoint sp72;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp72;
savepoint sp72;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp72;
savepoint sp73;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp73;
savepoint sp73;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp73;
savepoint sp74;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp74;
savepoint sp74;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp74;
savepoint sp75;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp75;
savepoint sp75;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp75;
savepoint sp76;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp76;
savepoint sp76;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp76;
savepoint sp77;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp77;
savepoint sp77;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp77;
savepoint sp78;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp78;
savepoint sp78;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp78;
savepoint sp79;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp79;
savepoint sp79;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp79;
savepoint sp80;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp80;
savepoint sp80;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp80;
savepoint sp81;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp81;
savepoint sp81;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp81;
savepoint sp82;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp82;
savepoint sp82;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp82;
savepoint sp83;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp83;
savepoint sp83;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp83;
savepoint sp84;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp84;
savepoint sp84;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp84;
savepoint sp85;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp85;
savepoint sp85;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp85;
savepoint sp86;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp86;
savepoint sp86;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp86;
savepoint sp87;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp87;
savepoint sp87;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp87;
savepoint sp88;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp88;
savepoint sp88;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp88;
savepoint sp89;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp89;
savepoint sp89;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp89;
savepoint sp90;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp90;
savepoint sp90;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp90;
savepoint sp91;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp91;
savepoint sp91;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp91;
savepoint sp92;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp92;
savepoint sp92;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp92;
savepoint sp93;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp93;
savepoint sp93;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp93;
savepoint sp94;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp94;
savepoint sp94;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp94;
savepoint sp95;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp95;
savepoint sp95;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp95;
savepoint sp96;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp96;
savepoint sp96;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp96;
savepoint sp97;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp97;
savepoint sp97;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp97;
savepoint sp98;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp98;
savepoint sp98;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp98;
savepoint sp99;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp99;
savepoint sp99;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp99;
savepoint sp100;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp100;
savepoint sp100;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp100;
savepoint sp101;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp101;
savepoint sp101;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp101;
savepoint sp102;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp102;
savepoint sp102;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp102;
savepoint sp103;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp103;
savepoint sp103;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp103;
savepoint sp104;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp104;
savepoint sp104;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp104;
savepoint sp105;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp105;
savepoint sp105;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp105;
savepoint sp106;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp106;
savepoint sp106;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp106;
savepoint sp107;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp107;
savepoint sp107;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp107;
savepoint sp108;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp108;
savepoint sp108;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp108;
savepoint sp109;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp109;
savepoint sp109;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp109;
savepoint sp110;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp110;
savepoint sp110;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp110;
savepoint sp111;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp111;
savepoint sp111;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp111;
savepoint sp112;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp112;
savepoint sp112;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp112;
savepoint sp113;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp113;
savepoint sp113;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp113;
savepoint sp114;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp114;
savepoint sp114;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp114;
savepoint sp115;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp115;
savepoint sp115;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp115;
savepoint sp116;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp116;
savepoint sp116;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp116;
savepoint sp117;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp117;
savepoint sp117;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp117;
savepoint sp118;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp118;
savepoint sp118;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp118;
savepoint sp119;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp119;
savepoint sp119;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp119;
savepoint sp120;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp120;
savepoint sp120;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp120;
savepoint sp121;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp121;
savepoint sp121;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp121;
savepoint sp122;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp122;
savepoint sp122;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp122;
savepoint sp123;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp123;
savepoint sp123;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp123;
savepoint sp124;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp124;
savepoint sp124;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp124;
savepoint sp125;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp125;
savepoint sp125;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp125;
savepoint sp126;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp126;
savepoint sp126;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp126;
savepoint sp127;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp127;
savepoint sp127;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp127;
savepoint sp128;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp128;
savepoint sp128;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp128;
savepoint sp129;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp129;
savepoint sp129;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp129;
savepoint sp130;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp130;
savepoint sp130;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp130;
savepoint sp131;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp131;
savepoint sp131;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp131;
savepoint sp132;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp132;
savepoint sp132;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp132;
savepoint sp133;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp133;
savepoint sp133;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp133;
savepoint sp134;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp134;
savepoint sp134;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp134;
savepoint sp135;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp135;
savepoint sp135;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp135;
savepoint sp136;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp136;
savepoint sp136;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp136;
savepoint sp137;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp137;
savepoint sp137;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp137;
savepoint sp138;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp138;
savepoint sp138;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp138;
savepoint sp139;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp139;
savepoint sp139;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp139;
savepoint sp140;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp140;
savepoint sp140;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp140;
savepoint sp141;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp141;
savepoint sp141;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp141;
savepoint sp142;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp142;
savepoint sp142;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp142;
savepoint sp143;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp143;
savepoint sp143;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp143;
savepoint sp144;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp144;
savepoint sp144;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp144;
savepoint sp145;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp145;
savepoint sp145;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp145;
savepoint sp146;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp146;
savepoint sp146;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp146;
savepoint sp147;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp147;
savepoint sp147;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp147;
savepoint sp148;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp148;
savepoint sp148;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp148;
savepoint sp149;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp149;
savepoint sp149;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp149;
savepoint sp150;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp150;
savepoint sp150;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp150;
savepoint sp151;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp151;
savepoint sp151;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp151;
savepoint sp152;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp152;
savepoint sp152;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp152;
savepoint sp153;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp153;
savepoint sp153;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp153;
savepoint sp154;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp154;
savepoint sp154;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp154;
savepoint sp155;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp155;
savepoint sp155;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp155;
savepoint sp156;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp156;
savepoint sp156;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp156;
savepoint sp157;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp157;
savepoint sp157;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp157;
savepoint sp158;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp158;
savepoint sp158;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp158;
savepoint sp159;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp159;
savepoint sp159;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp159;
savepoint sp160;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp160;
savepoint sp160;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp160;
savepoint sp161;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp161;
savepoint sp161;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp161;
savepoint sp162;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp162;
savepoint sp162;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp162;
savepoint sp163;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp163;
savepoint sp163;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp163;
savepoint sp164;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp164;
savepoint sp164;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp164;
savepoint sp165;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp165;
savepoint sp165;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp165;
savepoint sp166;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp166;
savepoint sp166;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp166;
savepoint sp167;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp167;
savepoint sp167;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp167;
savepoint sp168;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp168;
savepoint sp168;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp168;
savepoint sp169;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp169;
savepoint sp169;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp169;
savepoint sp170;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp170;
savepoint sp170;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp170;
savepoint sp171;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp171;
savepoint sp171;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp171;
savepoint sp172;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp172;
savepoint sp172;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp172;
savepoint sp173;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp173;
savepoint sp173;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp173;
savepoint sp174;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp174;
savepoint sp174;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp174;
savepoint sp175;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp175;
savepoint sp175;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp175;
savepoint sp176;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp176;
savepoint sp176;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp176;
savepoint sp177;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp177;
savepoint sp177;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp177;
savepoint sp178;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp178;
savepoint sp178;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp178;
savepoint sp179;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp179;
savepoint sp179;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp179;
savepoint sp180;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp180;
savepoint sp180;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp180;
savepoint sp181;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp181;
savepoint sp181;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp181;
savepoint sp182;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp182;
savepoint sp182;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp182;
savepoint sp183;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp183;
savepoint sp183;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp183;
savepoint sp184;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp184;
savepoint sp184;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp184;
savepoint sp185;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp185;
savepoint sp185;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp185;
savepoint sp186;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp186;
savepoint sp186;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp186;
savepoint sp187;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp187;
savepoint sp187;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp187;
savepoint sp188;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp188;
savepoint sp188;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp188;
savepoint sp189;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp189;
savepoint sp189;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp189;
savepoint sp190;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp190;
savepoint sp190;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp190;
savepoint sp191;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp191;
savepoint sp191;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp191;
savepoint sp192;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp192;
savepoint sp192;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp192;
savepoint sp193;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp193;
savepoint sp193;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp193;
savepoint sp194;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp194;
savepoint sp194;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp194;
savepoint sp195;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp195;
savepoint sp195;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp195;
savepoint sp196;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp196;
savepoint sp196;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp196;
savepoint sp197;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp197;
savepoint sp197;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp197;
savepoint sp198;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp198;
savepoint sp198;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp198;
savepoint sp199;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp199;
savepoint sp199;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp199;
savepoint sp200;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp200;
savepoint sp200;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp200;
savepoint sp201;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp201;
savepoint sp201;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp201;
savepoint sp202;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp202;
savepoint sp202;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp202;
savepoint sp203;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp203;
savepoint sp203;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp203;
savepoint sp204;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp204;
savepoint sp204;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp204;
savepoint sp205;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp205;
savepoint sp205;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp205;
savepoint sp206;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp206;
savepoint sp206;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp206;
savepoint sp207;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp207;
savepoint sp207;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp207;
savepoint sp208;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp208;
savepoint sp208;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp208;
savepoint sp209;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp209;
savepoint sp209;
insert into subtx2_commit_t1 values(generate_series(1,10), 'sub-transactions with sub-commits and rollbacks');
Update subtx2_commit_t2 set b2 ='NEW VALUE' where b1 =1;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
release sp209;
savepoint sp210;
Select b2 from subtx2_commit_t2 where b1=1;
Delete from subtx2_commit_t1 where a1 > 0;
Delete from subtx2_commit_t2 where b1 > 0;
Select count(*) from subtx2_commit_t1;
Select count(*) from subtx2_commit_t2;
rollback to sp210;
COMMIT;
